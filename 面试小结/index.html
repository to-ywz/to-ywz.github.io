<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="三千羊毛" href="https://to-ywz.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="三千羊毛" href="https://to-ywz.github.io/atom.xml"><link rel="alternate" type="application/json" title="三千羊毛" href="https://to-ywz.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="google-site-verification" content="3I2jG22vavsaFU29gvYOuoNHkt2YQkNfL_y_iU3_Yao"><meta name="google-site-verification" content="JAG8aDDFGY0p-YH-4i9g3elUVvtXx__32LoFWlQnM3c"><meta name="baidu-site-verification" content="code-VIRtvB0P8y"><link rel="canonical" href="https://to-ywz.github.io/%E9%9D%A2%E8%AF%95%E5%B0%8F%E7%BB%93/"><title>面试小结 | Wool Heap = 三千羊毛 = 以己为剑 斩尽诸险</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">面试小结</h1><div class="meta"><span class="item" title="创建时间：2023-03-14 11:23:33"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-03-14T11:23:33+08:00">2023-03-14</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>2.9k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>3 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Wool Heap</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/background/70.pzbqhzee8g0.png"></li><li class="item" data-background-image="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/background/21.1rgktexsn64g.png"></li><li class="item" data-background-image="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/background/17.3783vyng9220.png"></li><li class="item" data-background-image="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/background/27.6zhold038uc0.png"></li><li class="item" data-background-image="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/background/63.229wks6c3f34.png"></li><li class="item" data-background-image="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/background/102.5s7ak6r1jjg0.png"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://to-ywz.github.io/%E9%9D%A2%E8%AF%95%E5%B0%8F%E7%BB%93/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.png"><meta itemprop="name" content="黑羊"><meta itemprop="description" content="以己为剑 斩尽诸险, 笔记&分享"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="三千羊毛"></span><div class="body md" itemprop="articleBody"><hr><p>大道五十，天衍四十九，人遁其一！<br>今天面试了一个很有趣的企业，HR 超级友善，虽然技术有一些问题没有回答上来，（挠头）</p><p>例如，舵机的控制脉宽，和脉宽周期 还有 modbus rtu 协议的开始和结束的条件，以及位置 PID（本质是一样的嘛）</p><p>趁这次机会回顾一下这些内容</p><h1 id="舵机脉宽"><a class="anchor" href="#舵机脉宽">#</a> 舵机脉宽</h1><h2 id="舵机控制信号"><a class="anchor" href="#舵机控制信号">#</a> 舵机控制信号</h2><p><img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/image.6hyx804jeqc0.jpg" alt="image"></p><h1 id="uart"><a class="anchor" href="#uart">#</a> UART</h1><h2 id="疑惑"><a class="anchor" href="#疑惑">#</a> 疑惑</h2><h3 id="uart是不是协议"><a class="anchor" href="#uart是不是协议">#</a> UART 是不是协议</h3><p>技术面说 UART 不是协议，当时没反应过来就顺着说 UART 是外设。</p><p>但是等缓过来思考 UART 的确是一个协议，因为他是被设计出来用于将并行数据转化为并行数据的，有开始信号，有结束信号，还可以有校验位，严格意义上来说串口是物理层通信协议。</p><p>与 IIC 和 SPI 实在同一层的，只不过 IIC 和 SPI 还涉及数据链路层 更偏向于 LLC 子层</p><p>而 Modbus-RTU 虽然是在物理层和数据链路层实现的协议，但是在实际的工业控制中会被列为应用层，需要具体问题具体分析</p><h3 id="uart与串口的关系"><a class="anchor" href="#uart与串口的关系">#</a> UART 与串口的关系</h3><p>UART 是一种串行通信接口，它定义了数据传输的格式和机制</p><p>而串口通常指的是连接计算机与外部设备的串行通信接口，它也是一种串行通信接口</p><p>在计算机中，串口通常是指 RS-232 串口，它是一种标准的串行通信接口</p><p>RS-232 串口支持异步通信方式，并且使用了 UART 协议来进行数据传输</p><p>在 RS-232 串口中，每个字节都由起始位、数据位、校验位和停止位组成，构成了 UART 协议定义的数据帧结构</p><p>所以 UART 和串口之间的关系是，UART 定义了数据传输的格式和机制，而串口（如 RS-232 串口）则是一种支持 UART 协议的物理接口</p><h2 id="协议"><a class="anchor" href="#协议">#</a> 协议</h2><h3 id="波特率"><a class="anchor" href="#波特率">#</a> 波特率</h3><p>波特率是 UART 协议，或者说所有异步串行协议，非常重要的一个概念，即单位时间内（1 秒）可表示的 bit 位个数，或者也可以表述为 bit 位宽的倒数</p><p>例如一个波特率为 115200 的 UART 波形表示 1 秒可容纳 115200 个 bit 位，也就是说每一位 bit 数据占大约 8.68uS 的时长，即 8.68bit/s<img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/image.29t68ob44aqs.jpg" alt="image"></p><h3 id="时序"><a class="anchor" href="#时序">#</a> 时序</h3><h4 id="空闲信号"><a class="anchor" href="#空闲信号">#</a> 空闲信号</h4><p>设备之间不传输数据时以持续的高电平表示空闲</p><p>空闲位持续时间越长，两个数据帧间隔也越长，单位时间传输的数据就越少</p><p><img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/image.6d7lfqh2aac0.jpg" alt="image"></p><h4 id="起始位"><a class="anchor" href="#起始位">#</a> 起始位</h4><p>UART 接收端会一直检测信号线上的电平变化</p><p>开始传输数据时，发送端将信号线从高电平拉到低电平结束空闲状态，并保持一个 bit 位的时长</p><p>接收器检测到高低电平转换时，开始接收信号</p><p><img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/image.6d7lfqh2aac0.jpg" alt="image"></p><h4 id="数据"><a class="anchor" href="#数据">#</a> 数据</h4><p>数据位包含传输的实际数据，如果使用了奇偶校验，那么数据位长为 5~8 bits<br>如果没有使用奇偶校验，则位长为 5~9 bits<br>在一般情况下，数据位为 8 bits，数据首先从最低有效位开始发送，高位在后</p><p><img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/image.hftmmwctz1s.jpg" alt="image"></p><h4 id="校验位"><a class="anchor" href="#校验位">#</a> 校验位</h4><p>校验位可以用来提高传输的可靠性。如果信号在传输过程中因为干扰而导致某些位置的电平产生错误，通过计算接收的数据和校验位是否匹配即可判断数据是否有传输错误，从而给应用层提供有效信息来决定接受 / 丢弃对应的数据。</p><p><img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/image.52o4r1mqv6c0.jpg" alt="image"></p><h4 id="停止位"><a class="anchor" href="#停止位">#</a> 停止位</h4><p>停止位表示一帧数据的结束，实际是一段时间的高电平</p><p>停止位的时间长短可以设置为 1、1.5 或者 2bits 的停止位</p><p>大部分情况使用 1bit 的停止位。</p><p>UART 是一个异步协议，每一帧的开头可以用跳变沿来同步</p><p>但是停止位只能通过波特率来计算相对位置，如果在停止位的位置识别到一个低电平，则会产生帧错误</p><p>所以在通讯过程中，为了减少波特率的误差导致的问题，可以设置不同的停止位长度来适配</p><p><img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/image.1jkb9cvxp7b4.jpg" alt="image"></p><h3 id="数据帧"><a class="anchor" href="#数据帧">#</a> 数据帧</h3><p>UART 的协议帧由 1 位起始位，数据为 5-8 位，校验位 1 位 (可选) 和一位的停止位</p><p><img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/image.6qksemj3abc0.jpg" alt="image"></p><p>以字符 D 为例子，使用 8 位数据为，0 位校验位，形成的波形理论如下</p><p><img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/image.1lez0vxuwr0g.jpg" alt="image"></p><p>以字符 <code>D</code> 为例，其波形在示波器中实际为下图</p><p><img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/image.6qmgnzg9p040.webp" alt="image"></p><h1 id="modbus"><a class="anchor" href="#modbus">#</a> MODBUS</h1><p>modbus 分为三种，常用的是 modbus-RTU, 少部分是 Modbus-ASCII</p><p>总体来说，MODBUS-RTU 比 MODBUS-ASCII 具有更高的传输效率，MODBUS-RTU 的传输速率通常可以达到 9600bps 或更高，而 MODBUS-ASCII 的传输速率一般在 1200bps 左右</p><h2 id="modbus-rtu"><a class="anchor" href="#modbus-rtu">#</a> Modbus RTU</h2><p>ModBus RTU（Remote Terminal Unit）是 ModBus 协议最常见的实现方式，采用二进制数据传输，具有较高的传输效率和稳定性。它使用串行通信，支持 RS232 和 RS485 两种接口。在 RTU 模式下，每个字节可以传输两位十六进制字符。比如 0xAB 会直接以十六进制 0xAB（二进制 10101011）进行发送。其消息帧格式由以下部分组成：</p><p><img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/image.1lc0olvrbnr4.jpg" alt="image"></p><p>RTU 模式采用 16 位 CRC 校验，后续的命令 / 数据带有循环冗余校验的校验和。RTU 模式比较常用，而 ASCII 一般很少用</p><h3 id="介质管理"><a class="anchor" href="#介质管理">#</a> 介质管理</h3><p>对于 ModBus-RTU 来说，对帧的时间管理，就是对介质的冲突管理</p><p>ModBus-RTU 对于介质管理规定了 2 个重要的时间参数，以实现成帧、冲突管理等。参考下图</p><p><img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/1678957117951.68d47yw77t80.jpg" alt="1678957117951"></p><p>这个图可以用于断帧，也就时判断是否接收到一个完整的帧，因此只需要使用一个定时器在每次收到一个字节后，就重启一个 3.5 字节定时器，如果这个 3.5 字节定时器中断了，就证明收到了一个 Modbus 报文，至于这个报文是不是正确的报文，可以在进一步根据帧格式进行校验</p><p>除此之外还规定了，当报文需要连续发送，字节间隔不得超过 1.5 字节时间<img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/image.6hrmwwuzn5s0.jpg" alt="image"></p><h3 id="modbus-ascii"><a class="anchor" href="#modbus-ascii">#</a> Modbus ASCII</h3><p>ModBus ASCII 采用 ASCII 码传输文本信息，每个 8Bit 字节都作为两个 ASCII 字符发送。相对 ModBus RTU 而言，它的传输效率较低，但具有更好的可读性。ModBus ASCII 也使用串行通信，并支持 RS232 和 RS485 两种接口，适用于短距离通信。在 ASCII 模式下，每个 8 位的字节拆分为两个 ASCII 字符进行发送，消息帧以英文冒号 “：” 开始，以回车和换行（CRLF）符号结束。例如十六进制数 0xAB，会被分解成 ASCII 字符 “A” 和 “B” 进行发送</p><h1 id="pid"><a class="anchor" href="#pid">#</a> PID</h1><p>技术面说 位置式 PID 和 增量式 PID 没有区别</p><p>虽然我觉得哪里不太对，但是没敢反驳，毕竟我对 PID 的理解还是有限的，所以我先来整理一下</p><h2 id="普通pid"><a class="anchor" href="#普通pid">#</a> 普通 PID</h2><p><img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/image.5eos6j11aog0.jpg" alt="image"></p><p>正儿八经的 PID 公式如上， 离散化之后，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">K_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">K_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.83333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 都与 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">K_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.969438em;vertical-align:-.286108em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-.07153em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span></span></span></span> 以及采样时间 <code>T</code> 相关</p><h2 id="位置式pid"><a class="anchor" href="#位置式pid">#</a> 位置式 PID</h2><p>在不考虑 PI 的情况下</p><p><img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/image.6iofatrs17g0.jpg" alt="image"></p><p>从公式中可以看出，比例部分只与当前的误差量有关，而积分部分则是系统过去偏差的累积</p><p>所以很显然的可以看到位置式 PI 需要进行一个计算的累加从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>e</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">e_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>~<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>e</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">e_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.33610799999999996em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></p><p>当 k 值较大时，消耗大量的空间</p><p>但是，在实际实现中我们只会保留每一次积分的累计和，根本不需要大量的内存空间</p><p>另外由于输出有可能超过允许值，因此需要对输出进行限幅， *** 而当输出限幅的时候，积分累加部分也应同时进行限幅 ***，以防输出不变而积分项继续累加，也即所谓的积分饱和过深</p><h2 id="增量式pid"><a class="anchor" href="#增量式pid">#</a> 增量式 PID</h2><p><img data-src="https://cdn.staticaly.com/gh/to-ywz/Image-Hosting@master/2023/image.6t49fpp59zk0.jpg" alt="image"></p><p>由于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">u(0)=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">u</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.64444em;vertical-align:0"></span><span class="mord">0</span></span></span></span>，在具体编程操作中，对每一拍的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>u</mi><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Δu(k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">Δ</span><span class="mord mathnormal">u</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.03148em">k</span><span class="mclose">)</span></span></span></span> 进行累积，即为 PI 调节器的输出</p><p>同样地，为了避免超过允许值， ** 仅需对输出限幅即可 **</p><h2 id="小结"><a class="anchor" href="#小结">#</a> 小结</h2><p>可以理解为无论用增量叠加的方式来计算位置式 PI，还是直接计算，结果都是相同的</p><p><strong>唯一的区别：位置式 PI 需要同时设置积分限幅和输出限幅，而增量式 PI 只需输出限幅</strong></p><hr><p>大道五十，天衍四十九，人遁其一！</p></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-03-17 15:36:16" itemprop="dateModified" datetime="2023-03-17T15:36:16+08:00">2023-03-17</time> </span><span id="面试小结/" class="item leancloud_visitors" data-flag-title="面试小结" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="黑羊 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.jpg" alt="黑羊 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>黑羊 <i class="ic i-at"><em>@</em></i>三千羊毛</li><li class="link"><strong>本文链接：</strong> <a href="https://to-ywz.github.io/%E9%9D%A2%E8%AF%95%E5%B0%8F%E7%BB%93/" title="面试小结">https://to-ywz.github.io/面试小结/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/win11/Question/win11%E5%85%B3%E9%97%AD%E8%87%AA%E5%B8%A6%E7%9A%84%E7%B9%81%E4%BD%93%E5%88%87%E6%8D%A2/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;cdn.staticaly.com&#x2F;gh&#x2F;to-ywz&#x2F;Image-Hosting@master&#x2F;background&#x2F;66.3nwn1dup44c0.png" title="win11关闭自带的繁体切换"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> Question</span><h3>win11关闭自带的繁体切换</h3></a></div><div class="item right"></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%88%B5%E6%9C%BA%E8%84%89%E5%AE%BD"><span class="toc-number">1.</span> <span class="toc-text">舵机脉宽</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%88%B5%E6%9C%BA%E6%8E%A7%E5%88%B6%E4%BF%A1%E5%8F%B7"><span class="toc-number">1.1.</span> <span class="toc-text">舵机控制信号</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#uart"><span class="toc-number">2.</span> <span class="toc-text">UART</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%96%91%E6%83%91"><span class="toc-number">2.1.</span> <span class="toc-text">疑惑</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#uart%E6%98%AF%E4%B8%8D%E6%98%AF%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.1.1.</span> <span class="toc-text">UART 是不是协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#uart%E4%B8%8E%E4%B8%B2%E5%8F%A3%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">2.1.2.</span> <span class="toc-text">UART 与串口的关系</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.2.</span> <span class="toc-text">协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A2%E7%89%B9%E7%8E%87"><span class="toc-number">2.2.1.</span> <span class="toc-text">波特率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%BA%8F"><span class="toc-number">2.2.2.</span> <span class="toc-text">时序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A9%BA%E9%97%B2%E4%BF%A1%E5%8F%B7"><span class="toc-number">2.2.2.1.</span> <span class="toc-text">空闲信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%B7%E5%A7%8B%E4%BD%8D"><span class="toc-number">2.2.2.2.</span> <span class="toc-text">起始位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE"><span class="toc-number">2.2.2.3.</span> <span class="toc-text">数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%A1%E9%AA%8C%E4%BD%8D"><span class="toc-number">2.2.2.4.</span> <span class="toc-text">校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%81%9C%E6%AD%A2%E4%BD%8D"><span class="toc-number">2.2.2.5.</span> <span class="toc-text">停止位</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%B8%A7"><span class="toc-number">2.2.3.</span> <span class="toc-text">数据帧</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#modbus"><span class="toc-number">3.</span> <span class="toc-text">MODBUS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#modbus-rtu"><span class="toc-number">3.1.</span> <span class="toc-text">Modbus RTU</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E8%B4%A8%E7%AE%A1%E7%90%86"><span class="toc-number">3.1.1.</span> <span class="toc-text">介质管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#modbus-ascii"><span class="toc-number">3.1.2.</span> <span class="toc-text">Modbus ASCII</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#pid"><span class="toc-number">4.</span> <span class="toc-text">PID</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%99%AE%E9%80%9Apid"><span class="toc-number">4.1.</span> <span class="toc-text">普通 PID</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%8D%E7%BD%AE%E5%BC%8Fpid"><span class="toc-number">4.2.</span> <span class="toc-text">位置式 PID</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A2%9E%E9%87%8F%E5%BC%8Fpid"><span class="toc-number">4.3.</span> <span class="toc-text">增量式 PID</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-number">4.4.</span> <span class="toc-text">小结</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="黑羊" data-src="/images/avatar.png"><p class="name" itemprop="name">黑羊</p><div class="description" itemprop="description">笔记&分享</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">61</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">36</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">33</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RvLXl3eg==" title="https:&#x2F;&#x2F;github.com&#x2F;to-ywz"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS8wbHJmOGY5R2hOT2dQakk=" title="https:&#x2F;&#x2F;twitter.com&#x2F;0lrf8f9GhNOgPjI"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9xaW4tc2hhbmctOTctNA==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;qin-shang-97-4"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTM5ODIwNTQyMTQ=" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;3982054214"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20vNTM0OTY3NDU5MQ==" title="https:&#x2F;&#x2F;weibo.com&#x2F;5349674591"><i class="ic i-weibo"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS9ibGFja3NoZWVwLjIwOGg=" title="https:&#x2F;&#x2F;about.me&#x2F;blacksheep.208h"><i class="ic i-address-card"></i></span> <span class="exturl item email" data-url="bWFpbHRvOmJsYWNrc2hlZXAuMjA4aEBnbWFpbC5jb20=" title="mailto:blacksheep.208h@gmail.com"><i class="ic i-envelope"></i></span> <span class="exturl item facebook" data-url="aHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL2xvdmVoeGxseHk=" title="https:&#x2F;&#x2F;www.facebook.com&#x2F;lovehxllxy"><i class="ic i-facebook"></i></span> <span class="exturl item stackoverflow" data-url="aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9ibGFja3NoZWVw" title="https:&#x2F;&#x2F;stackoverflow.com&#x2F;blacksheep"><i class="ic i-stack-overflow"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/Embedded/" title="分类于 嵌入式">嵌入式</a> <i class="ic i-angle-right"></i> <a href="/categories/Embedded/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="分类于 学习笔记">学习笔记</a> <i class="ic i-angle-right"></i> <a href="/categories/Embedded/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Linux/" title="分类于 Linux">Linux</a></div><span><a href="/Embedded/Linux/Linux%E7%BC%96%E8%AF%91Hello-World/" title="Linux编译Hello World">Linux编译Hello World</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/work/" title="分类于 求职">求职</a> <i class="ic i-angle-right"></i> <a href="/categories/work/%E9%9D%A2%E8%AF%95/" title="分类于 面试">面试</a></div><span><a href="/work/%E9%9D%A2%E8%AF%95%E9%94%A6%E9%9B%86-%E6%B6%82%E9%B8%A6%E9%9D%A2%E8%AF%95/" title="面试锦集-涂鸦面试">面试锦集-涂鸦面试</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/work/" title="分类于 求职">求职</a> <i class="ic i-angle-right"></i> <a href="/categories/work/%E9%9D%A2%E8%AF%95/" title="分类于 面试">面试</a></div><span><a href="/work/%E9%9D%A2%E8%AF%95%E9%94%A6%E9%9B%86-%E4%B8%99%E7%94%B2%E7%A7%91%E6%8A%80/" title="面试锦集(一)——丙甲科技">面试锦集(一)——丙甲科技</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学与技术">计算机科学与技术</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/compilation-principle/" title="分类于 编译原理">编译原理</a></div><span><a href="/computer-science/compilation-principle/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%88%A4%E6%96%AD%E9%A2%98/" title="编译原理判断题">编译原理判断题</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Algorithm/" title="分类于 Algorithm">Algorithm</a> <i class="ic i-angle-right"></i> <a href="/categories/Algorithm/LeetCode/" title="分类于 LeetCode">LeetCode</a></div><span><a href="/computer-science/algorithm/Leetcode/P9%E5%9B%9E%E6%96%87%E6%95%B0/P9%E5%9B%9E%E6%96%87%E6%95%B0/" title="P9回文数">P9回文数</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Embedded/" title="分类于 嵌入式">嵌入式</a> <i class="ic i-angle-right"></i> <a href="/categories/Embedded/DSP/" title="分类于 DSP">DSP</a></div><span><a href="/Embedded/DSP/TMS320F28379D%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%97%85-GPIO/" title="TMS320F28379D学习之旅-GPIO输出">TMS320F28379D学习之旅-GPIO输出</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学与技术">计算机科学与技术</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/python/" title="分类于 python">python</a></div><span><a href="/computer-science/Python/Python%E6%8F%90%E5%8D%87/" title="python提升">python提升</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学与技术">计算机科学与技术</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mysql/" title="分类于 mysql">mysql</a></div><span><a href="/computer-science/database/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8-Ubuntu%E4%B8%8BMySQL%E5%A4%9A%E8%A1%A8%E6%93%8D%E4%BD%9C/" title="数据库应用:Ubuntu下MySQL多表操作">数据库应用:Ubuntu下MySQL多表操作</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Algorithm/" title="分类于 Algorithm">Algorithm</a> <i class="ic i-angle-right"></i> <a href="/categories/Algorithm/LeetCode/" title="分类于 LeetCode">LeetCode</a></div><span><a href="/computer-science/algorithm/Leetcode/P14%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%89%8D%E7%BC%80/P14%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%89%8D%E7%BC%80/" title="P14最长公共前缀">P14最长公共前缀</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学与技术">计算机科学与技术</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/mysql/" title="分类于 mysql">mysql</a></div><span><a href="/computer-science/database/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8-Ubuntu%E4%B8%8BMySQL%E8%A7%86%E5%9B%BE%E5%92%8C%E7%B4%A2%E5%BC%95/" title="数据库应用:Ubuntu下MySQL视图和索引">数据库应用:Ubuntu下MySQL视图和索引</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-BlackSheep"></i> </span><span class="author" itemprop="copyrightHolder">黑羊 @ Wool Heap</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">232k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">3:31</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"面试小结/",favicon:{show:"（●´3｀●）薅羊毛",hide:"(´Д｀)秃了秃了"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:{placeholder:"1. 提问前请先仔细阅读本文档⚡\n2. 页面显示问题💥，请提供控制台截图📸或者您的测试网址\n3. 其他任何报错💣，请提供详细描述和截图📸，祝食用愉快(๑•̀ㅂ•́)و✧"},fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>