<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="待风而起" href="https://to-ywz.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="待风而起" href="https://to-ywz.github.io/atom.xml"><link rel="alternate" type="application/json" title="待风而起" href="https://to-ywz.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="指针,C,学习笔记"><link rel="canonical" href="https://to-ywz.github.io/2021/03/11/CS/C%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E7%AC%94%E8%AE%B0/C%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E7%AC%94%E8%AE%B0/"><title>C语言指针笔记 - 学习笔记 | Black Sheep = 待风而起 = 以梦为马 驰骋世间</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">C语言指针笔记</h1><div class="meta"><span class="item" title="创建时间：2021-03-11 11:45:20"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-03-11T11:45:20+08:00">2021-03-11</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Black Sheep</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicliwyw55j20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giciszlczyj20zk0m816d.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipeuibk9fj20zk0m8ay2.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipew8gmvyj20zk0m87wh.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicliierfjj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipeuv80yoj20zk0m8kjl.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/study-note/" itemprop="item" rel="index" title="分类于 学习笔记"><span itemprop="name">学习笔记</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://to-ywz.github.io/2021/03/11/CS/C%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E7%AC%94%E8%AE%B0/C%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E7%AC%94%E8%AE%B0/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.png"><meta itemprop="name" content="秦殇"><meta itemprop="description" content="以梦为马 驰骋世间, 如风一般悠长"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="待风而起"></span><div class="body md" itemprop="articleBody"><h1 id="c-语言指针笔记"><a class="anchor" href="#c-语言指针笔记">#</a> C 语言指针笔记</h1><h2 id="前言"><a class="anchor" href="#前言">#</a> 前言</h2><p><a href="#%E7%9B%AE%E5%BD%95">🔼</a></p><p>指针 可以说是 C 语言的灵魂，最巧妙的地方。不明白，不理解指针 那就是等于没学 C 语言.<br>指针这玩意说难也不难，主要是细节问题。比如最常见的，指针数组和数组指针、指针常数和常数指针、指针函数和函数指针。刚学完指针还好，时间一久，听到之这些东西很难短时间内反应过来<br>指针这块 用的多的 就是字符串了，其他的用的都比较少，所以久而久之总是忘，所以干脆写篇博客加深印象，也便于日后回顾<br><s><em>我才不承认是我自己，搞混了概念，重新学了一遍，想和人分享没人听才写的博客，绝对不是！</em></s></p><h2 id="基础部分"><a class="anchor" href="#基础部分">#</a> 基础部分</h2><p><a href="#%E7%9B%AE%E5%BD%95">🔼</a><br>写在前面: <strong>指针是一种变量，地址是一种数据</strong>.<br>大概的介绍一下 什么是指针，指针的作用，以及指针的基本操作<br><strong>PS: 以下假设环境均为 64 位 1904 Win10 vscode gcc8.1.0</strong></p><h3 id="指针的作用"><a class="anchor" href="#指针的作用">#</a> 指针的作用</h3><p><a href="#%E7%9B%AE%E5%BD%95">🔼</a></p><p>我先说明作用后面慢慢分析.<br><strong>作用</strong>:</p><ol><li>数据共享更加便捷，打破共享壁垒</li><li>以更精简的方式引用大的数据结构</li><li>利用指针可以直接操纵内存地址 (在 MCU, 嵌入式开发上体会会很深刻)</li><li>利用指针，能在程序执行过程中预留新的内存空间 (当然在没有 MMU 的单片机中，无法实现，能写内存管理的大佬除外)</li></ol><p>先抛开指针，让我们来想想，变量的作用是什么？<strong>使内存空间易于管理</strong>.<br>好，为什么内存空间难管理，因为内存标号 (<strong>内存地址</strong>) 往往都是一串 16 进制数，难于记忆，所以对内存地址取个名字，便于记忆<br><strong>局部变量</strong>都有一定的局限性，所谓的<mark>作用域</mark>，<strong>全局变量</strong>虽然没有局限性，但大量的全局变量会浪费许多内存.<br>然而很多时候我们需要在作用域外来修改内存上的值 (例如，两数交换), 数据唯一不变的只有地址，所以想要实现<mark>数据共享</mark>，只能通过 传递地址 来实现了，指针 —— 一种特殊的变量，就应运而生了.(学过汇编后，会对指针的数据共享理解更加深刻)</p><p>第二个作用，很大程度上体现在函数传参和字符串上，思考一个问题，如果我有 一个结构体，如下:</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">RxBufferTypeDef</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">int</span> size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">int</span> read<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">int</span> write<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">int</span> <span class="token operator">*</span>buffer<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>里面有 3 个整型变量，一个指针变量，一个 int 变量 4 字节，一个指针变量 8 字节，一个结构体 20 个字节大小，如果 一个函数调用时传递的是整个结构体，那么就相当于在内存中又开辟了 20 字节大小空间，用于实现对传入结构体的复制，而且不能对结构体的成员进行修改，如果传递结构体指针，大小恒为 8 字节，而且可以对结构体进行修改，整个程序中只占用 20 字节，在内存和运行速度上，比之直接传结构体更为方便.</p><p>大多数情况下，可以看到程序使用的内存是通过显式声明分配给变量的内存 (也就是静态内存分配). 这一点对于节省计算机内存是有帮助的，因为计算机可以提前为需要的变量分配内存。但是在很多应用场合中，可能程序运行时不清楚到底需要多少内存，这时候可以使用指针，让程序在运行时获得新的内存空间 (实际上应该就是动态内存分配 <code>malloc</code> , <code>calloc</code> ), 并让指针指向这一内存更为方便.</p><h3 id="指针的声明"><a class="anchor" href="#指针的声明">#</a> 指针的声明</h3><p><a href="#%E7%9B%AE%E5%BD%95">🔼</a></p><p><strong>语法</strong>: <code>数据类型 * 指针名称 = 初始地址;</code><br><strong>示例</strong>:</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">int</span> i_variable <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">double</span> d_variable <span class="token operator">=</span> <span class="token number">1.1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token comment">// 声明一个 指向整型的指针，指向 i_variable</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">int</span> <span class="token operator">*</span>ptr_a <span class="token operator">=</span> <span class="token operator">&amp;</span>i_variable<span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token comment">// 声明一个 指向整型的指针，指向 d_variable</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">int</span> <span class="token operator">*</span>ptr_b <span class="token operator">=</span> <span class="token operator">&amp;</span>d_variable<span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="指针的使用"><a class="anchor" href="#指针的使用">#</a> 指针的使用</h3><p><a href="#%E7%9B%AE%E5%BD%95">🔼</a></p><p>两个和指针息息相关的运算符:</p><ul><li><code>&amp;</code> 是 C 语言中的取地址符号，用于获取地址</li><li><code>*</code> 是 C 语言中的解引用的符号，用于获取地址上的值</li></ul><p><strong>操作</strong>:</p><ul><li>修改指向的地址；<br><strong>语法</strong>: <code>ptr_b = &amp;a;</code></li><li>修改指向地址上的值；<br><strong>语法</strong>: <code>*ptr_b = 100;</code></li><li>所有指针都之和 处理位数以及 编译器相关，一般来说 是 8 字节或者 4 字节，比较特殊的 51 单片机是 12 位</li></ul><p><strong>示例 1</strong>:</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">int</span> i_variable1 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">int</span> i_variable2 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">double</span> d_variable <span class="token operator">=</span> <span class="token number">1.1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token comment">// 声明一个 指向整型的指针，指向 i_variable1</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">int</span> <span class="token operator">*</span>ptr_a <span class="token operator">=</span> <span class="token operator">&amp;</span>i_variable1<span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">// 声明一个 指向整型的指针，指向 d_variable</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">int</span> <span class="token operator">*</span>ptr_b <span class="token operator">=</span> <span class="token operator">&amp;</span>d_variable<span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token comment">// 打印指针大小</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof(ptr_a) = %d\n"</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ptr_a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof(ptr_b) = %d\n"</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ptr_b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token comment">// 打印 i_variable 指向的地址上的值</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ptr_a = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>ptr_a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>    ptr_a <span class="token operator">=</span> <span class="token operator">&amp;</span>i_variable2<span class="token punctuation">;</span> <span class="token comment">// 改变 ptr_a 的指向</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ptr_a = %p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>ptr_a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token operator">*</span>ptr_a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i_variable1 = %d\n"</span><span class="token punctuation">,</span> i_variable1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// </span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i_variable2 = %d\n"</span><span class="token punctuation">,</span> i_variable2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ptr_a = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>ptr_a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="空指针"><a class="anchor" href="#空指针">#</a> 空指针</h3><p><a href="#%E7%9B%AE%E5%BD%95">🔼</a></p><ul><li><strong>定义</strong>：指针变量指向内存中编号为 0 的空间</li><li><strong>用途</strong>：初始化指针变量，不知道指哪里，就先指向这里</li><li><strong>注意</strong>：空指针指向的内存是不可以访问的</li><li><strong>示例:</strong></li></ul><pre><code class="language-C">int main(void)
&#123;

	//指针变量p指向内存地址编号为0的空间
	int * p = NULL;

	//访问空指针报错 
	//内存编号0 ~255为系统占用内存, 不允许用户访问
	printf(&quot;0x%x&quot;, p);
	printf(&quot;%d&quot;, *p);

	return 0;
&#125;
</code></pre><h3 id="野指针"><a class="anchor" href="#野指针">#</a> 野指针</h3><p><a href="#%E7%9B%AE%E5%BD%95">🔼</a></p><ul><li><p><strong>定义</strong>：指针变量指向非法的内存空间<br>非法空间是指，指针指向系统和程序协商后可访问空间之外的地址<br><img data-src="https://tva3.sinaimg.cn/large/005Q2GK3ly8gs1n32pcktj30yk0arq3j.jpg" alt="alt 野指针"></p></li><li><p><strong>示例</strong>:</p></li></ul><pre><code class="language-C">int main(void) 
&#123;

	//指针变量p指向内存地址编号为0x1100的空间
	int * p = (int *)0x1100;

	//访问野指针报错 
	printf(&quot;%d&quot;, *p);

	return 0;
&#125;
</code></pre><h2 id="一级指针"><a class="anchor" href="#一级指针">#</a> 一级指针</h2><p><a href="#%E7%9B%AE%E5%BD%95">🔼</a></p><p>简单来说就是只有 一个 <code>*</code> 运算符的指针变量，大多数的一维指针会用于指向结构体、数组、字符串...</p><h3 id="指向变量的指针"><a class="anchor" href="#指向变量的指针">#</a> 指向变量的指针</h3><p><a href="#%E7%9B%AE%E5%BD%95">🔼</a></p><p>指向变量的语法，如上面指针的基本内容所述，只要存在数据类型，都可以定义指针<br>这说一个比较特殊的 指针 —— <code>void</code> 指针，众所周知， <code>void</code> 是一种空类型，那么，正常思路下指向 <code>void</code> 的指针，就是指向空的指针，简称除了 <code>NULL</code> 啥都不能指.<br>其实不然，正所谓 万物皆虚，万事皆允 (<s>we are assassins!</s>), void 指针啥都能指，最简单的例子就是 内置 <code>qsort</code> 的回调函数 <code>cmp(const void *a, const void *b)</code> , 咱们总不可能开两个空数组吧 (滑稽)<br>其实无论什么数据，在存储器上都是高低电平，只是读取的方式不同，才有了不同的数据类型， <code>void</code> 指针正是依靠了这个特性，通过强制类型转换来实现，任意传参.<br>其实无论什么指针，都可以强制转化，用于传递地址，只是因为<mark>指针只存储地址，且数据的意义只与读取方式相关</mark>所以才可以进行相互转换<br><strong>PS: 个人建议，如果要传入不知道什么类型的数据时可以考虑以 void * 作为参数，不到万不得已，不要使用其他指针来实现类型转换</strong></p><p><strong>示例</strong></p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_Nodes</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">int</span> id<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span> MyStruct<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">1.1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    MyStruct node1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"This is a test about void pointer"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">void</span> <span class="token operator">*</span>v_ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token comment">// 转化位 int</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"====================int=======================\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a = %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&amp;a = 0x%x\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*v_ptr = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span>v_ptr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"v_ptr = 0x%x\n"</span><span class="token punctuation">,</span> v_ptr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token comment">// 转化位 double</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    v_ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>d<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"====================double=======================\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"d = %.2lf\n"</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&amp;d = 0x%x\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*v_ptr = %.2lf\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">double</span> <span class="token operator">*</span><span class="token punctuation">)</span>v_ptr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"v_ptr = 0x%x\n"</span><span class="token punctuation">,</span> v_ptr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token comment">// 转化为 结构体</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    v_ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>node1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"====================structer=======================\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"node.id = %d\n"</span><span class="token punctuation">,</span> node1<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"node.str = %s\n"</span><span class="token punctuation">,</span> node1<span class="token punctuation">.</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&amp;d = 0x%x\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>node1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"(*v_ptr).id = %d\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>MyStruct <span class="token operator">*</span><span class="token punctuation">)</span>v_ptr<span class="token punctuation">)</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"(*v_ptr).str = %s\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>MyStruct <span class="token operator">*</span><span class="token punctuation">)</span>v_ptr<span class="token punctuation">)</span><span class="token punctuation">.</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"v_ptr = 0x%x\n"</span><span class="token punctuation">,</span> v_ptr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>示例 2</strong>:<br>这一部分是标准库调用示例:</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> <span class="token function">cmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span>a<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span>b<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">void</span> <span class="token function">travelArray</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">int</span> n<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token comment">// 获取数组长度</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token comment">// 动态开辟数组</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">int</span> <span class="token operator">*</span>arr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token comment">// 读入数据</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> arr <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    </pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token function">travelArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token function">qsort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cmp<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token function">travelArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="29"></td><td><pre> * @brief 遍历数组</pre></td></tr><tr><td data-num="30"></td><td><pre> * </pre></td></tr><tr><td data-num="31"></td><td><pre> * @param arr   数组首地址</pre></td></tr><tr><td data-num="32"></td><td><pre> * @param n     数组大小 </pre></td></tr><tr><td data-num="33"></td><td><pre> */</pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token keyword">void</span> <span class="token function">travelArray</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="const指针"><a class="anchor" href="#const指针">#</a> const 指针</h3><p><a href="#%E7%9B%AE%E5%BD%95">🔼</a></p><p>这就是一个经典的问题了，** **, const 修饰不同 的地方，指针的效果就不一样，const 一共有三种修饰方式:</p><ul><li>第一种: <code>const int* ptr = &amp;a;</code> 常量指针，可以改变指向方向</li><li>第二种: <code>int* const ptr = &amp;a;</code> 指针常量，可以改变地址上的值</li><li>第三种: <code>const int* const ptr = &amp;a;</code> 上面两种的结合体，可以称为指针常数</li></ul><p>顾名思义，<strong> 常量指针</strong>，指向常量的指针，指向的是常量，指针不是常量，可以改变指向的地址，但是不能改变指向的值<br><strong>指针常量</strong>，指针自己是一个常量，指向的不一定是常量，所以可以改变所指向地址上的值，不能改变指向的地址<br><strong>指针常数</strong>，这个就不多说了，啥都改不了，指向的是常数</p><p><strong>示例</strong>:</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">int</span> <span class="token operator">*</span>pa <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">// 常量指针</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>cpa <span class="token operator">=</span> pa<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token comment">// 指针常量</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">int</span> <span class="token operator">*</span><span class="token keyword">const</span> pca <span class="token operator">=</span> pa<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">// 指针常数</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span><span class="token keyword">const</span> cpca <span class="token operator">=</span> pa<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token comment">// cout &lt;&lt; "a = " &lt;&lt; a &lt;&lt; endl;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"pa = 0x%x\n"</span><span class="token punctuation">,</span> pa<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*cpa = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>cpa<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*pca = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>pca<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*cpca = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>cpca<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token function">puts</span><span class="token punctuation">(</span><span class="token string">"================修改cpa指向==================\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>    cpa <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span> <span class="token comment">// 正确，修改常量指针指向的地址</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token comment">//pca = &amp;b; // 错误，修改指针指常量向的地址</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&amp;b = 0x%x\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"cpa = 0x%x\n"</span><span class="token punctuation">,</span> cpa<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"pca = 0x%x\n"</span><span class="token punctuation">,</span> pca<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>    cpa <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token function">puts</span><span class="token punctuation">(</span><span class="token string">"=================修改pca指向的值===============\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token comment">// *cpa = 90;   // 错误，修改常量指针的指向的变量的值</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token operator">*</span>pca <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">// 正确，修改指针常量指向的值</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*pa = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>pa<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*cpa = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>cpa<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*pca = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>pca<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token comment">//cpca = &amp;b;   // 错误，双 const 啥都不能改</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token comment">// *cpca = 90;  // 错误，双 const 啥都不能改</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="指向函数的指针"><a class="anchor" href="#指向函数的指针">#</a> 指向函数的指针</h3><p>话外：为什么不能用二级指针直接指向二维数组</p><ol><li>什么是函数指针:<br>和变量类似，如果在程序中定义了一个函数，那么在编译时系统就会为这个函数代码分配一段存储空间，这段存储空间的首地址称为这个函数的地址，在 debug 时，我们会在主栈中看到，被压入的函数的地址。而且函数名表示的就是这个地址。既然是地址我们就可以定义一个指针变量来存放，这个指针变量就叫作函数指针变量，简称函数指针.</li><li>函数指针的声明:<br>函数指针与其他指针声明方式不同，正如前面所说，指针只能指向一种数据类型，所以 函数指针的声明有些复杂，大致格式如下:<br><code>返回数据类型 (* 指针名称)(参数列表);</code><br>例如: <code>int (*funPtr)(int *, int *);</code><br>这个语句就定义了一个指向函数的指针变量 <code>funPtr</code> . 首先它是一个指针变量，所以要有一个 <code>*</code> , 即 (*p); 其次前面的 <code>int</code> 表示这个指针变量可以指向返回值类型为 int 型的函数；后面括号中的两个 <code>int</code> 表示这个指针变量可以指向有两个参数且都是 <code>int</code> 型的函数。所以合起来这个语句的意思就是：定义了一个指针变量 <code>funPtr</code> , 该指针变量可以指向返回值类型为 <code>int</code> 型，且有两个整型参数的函数. <code>funPtr</code> 的类型为 <code>int(*)(int, int)</code></li><li>如何用函数指针调用函数<figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> <span class="token function">Func</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">/* 声明一个函数 */</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>pFunc<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">/* 定义一个函数指针 */</span></pre></td></tr><tr><td data-num="3"></td><td><pre>pFunc <span class="token operator">=</span> Func<span class="token punctuation">;</span>          <span class="token comment">/* 将 Func 函数的首地址赋给指针变量 p*/</span></pre></td></tr></table></figure>PS: 函数指针 没有 <code>++</code> 和 <code>--</code> 的操作</li></ol><ul><li><strong>示例</strong><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">Max</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 函数声明</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 定义一个函数指针</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token comment">// 把函数 Max 赋给指针变量 p, 使 p 指向 Max 函数</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    p <span class="token operator">=</span> Max<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"please enter a and b:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token comment">// 通过函数指针调用 Max 函数</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    c <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a = %d\nb = %d\nmax = %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="23"></td><td><pre> * @brief 比较连个数大小</pre></td></tr><tr><td data-num="24"></td><td><pre> * </pre></td></tr><tr><td data-num="25"></td><td><pre> * @param x 比较数 x</pre></td></tr><tr><td data-num="26"></td><td><pre> * @param y 比较数 y</pre></td></tr><tr><td data-num="27"></td><td><pre> * @retval int 最大值</pre></td></tr><tr><td data-num="28"></td><td><pre> */</pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token keyword">int</span> <span class="token function">Max</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token comment">// 定义 Max 函数</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token keyword">return</span> x <span class="token operator">></span> y <span class="token operator">?</span> x <span class="token operator">:</span> y<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li></ul><h2 id="二级指针"><a class="anchor" href="#二级指针">#</a> 二级指针</h2><p><a href="#%E7%9B%AE%E5%BD%95">🔼</a><br>与 一级指针类似，需要两次 <code>*</code> 操作才能得到最顶层值 的 指针变量，最常见的就是 字符串数组。一级指针往往比较简单，维度一升高 后就开始变得复杂起来<br>三者之间的关系如图，手残，将就一下<br><img data-src="https://tva2.sinaimg.cn/large/005Q2GK3ly8gs1n2xn673j30ws0i2zkd.jpg" alt="alt"><br>在内存中的图示<br><img data-src="https://tva3.sinaimg.cn/large/005Q2GK3ly8gs1n304psmj30zf0g2q2v.jpg" alt="alt"></p><h3 id="指向指针的指针"><a class="anchor" href="#指向指针的指针">#</a> 指向指针的指针</h3><p><a href="#%E7%9B%AE%E5%BD%95">🔼</a></p><p>指针可以指向一份普通类型的数据，例如 int、double、char 等，也可以指向一份指针类型的数据，例如 <code>int *</code> 、 <code>double *</code> 、 <code>char *</code> 等，所以就有了指向指针的指针<br>上面图片的关系用 C 语言来描述就是</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token operator">*</span>ptr_a <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span>pptr_a <span class="token operator">=</span> <span class="token operator">&amp;</span>ptr_a<span class="token punctuation">;</span></pre></td></tr></table></figure><p>指针变量也是一种变量，也会占用存储空间，也可以使用 <code>&amp;</code> 获取它的地址.C 语言不限制指针的级数，每增加一级指针，在定义指针变量时就得增加一个星号 <code>*</code> . <code>p1</code> 是一级指针，指向普通类型的数据，定义时有一个 <code>*</code> ; <code>p2</code> 是二级指针，指向一级指针 <code>p1</code> , 定义时有两个 <code>*</code> .</p><p>那么，为什么要有二级指针呢？<br>先来看一下这段代码:<br>有两个变量 <code>a</code> , <code>b</code> , 指针 <code>q</code> , <code>q</code> 指向 <code>a</code> , 我们想让 <code>q</code> 指向 <code>b</code> , 在函数里面实现.<br>这里贴一下用于测试的主函数</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token operator">*</span>q<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&amp;a=0x%x, &amp;b=0x%x, &amp;q=0x%x\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    q <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*q=%d, q=0x%x, &amp;q=0x%x\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>q<span class="token punctuation">,</span> q<span class="token punctuation">,</span> <span class="token operator">&amp;</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token function">func</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*q=%d, q=0x%x, &amp;q=0x%x\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>q<span class="token punctuation">,</span> q<span class="token punctuation">,</span> <span class="token operator">&amp;</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul><li>用 一级指针 实现:<figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"func: &amp;p=0x%x, p=%d\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>p<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    p <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span> <span class="token comment">// 让指针 p 指向 b;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"func: &amp;p=0x%x, p=%d\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>p<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li></ul><p>看起来 在逻辑上代码没有什么问题，但是众所周知，程序执行后 <code>*q</code> 不等于 100, 为什么呢？<br>来简单看一下，测试输出的结果</p><pre><code>&amp;a=0x403010, &amp;b=0x403014, &amp;q=0x407970
*q=10, q=0x403010, &amp;q=0x407970
func: &amp;p=0x61fe00, p=4206608  
func: &amp;p=0x61fe00, p=4206612  
*q=10, q=0x403010, &amp;q=0x407970
</code></pre><p>来分析一下输出:</p><ul><li>注释 1: <code>a, b, q</code> 都有一个地址.</li><li>注释 2: <code>q</code> 指向 <code>a</code> , <code>q</code> 的值发生了变化，地址是固定的</li><li>注释 3: 进入函数后的参数 <code>p</code> 的地址跟 <code>q</code> 不一样了。这是因为在函数调用时，为了保障原数据不变对其进行了拷贝，也就是说 <code>p</code> 和 <code>q</code> 不是同一个指针，但是 他们指向的地址是相同的，都指向 &amp;a (0x403010)</li><li>注释 4: <code>p</code> 指向 <code>b</code> , 这时候 <code>p</code> 的值发生了变化</li><li>注释 5: 回到主函数后，函数栈释放， <code>p</code> 也就丢失了， <code>q</code> 也不会有任何变化.</li></ul><p>结论:<br>编译器会对函数的每个参数制作临时副本，指针参数 <code>p</code> 的副本是 <code>q</code> , 编译器使 <code>p = q</code> (但是 <code>&amp;p != &amp;q</code> , 也就是他们并不在同一块内存地址，只是他们的内容一样，都是 a 的地址). 如果函数体内的程序修改了 p 的内容 (比如在这里它指向 b). 在本例中，p 申请了新的内存，只是把 p 所指的内存地址改变了 (变成了 b 的地址，但是 q 指向的内存地址没有影响), 所以在这里并不影响函数外的指针 q.</p><p>其实，这就是 所谓的 <strong>传值调用</strong> 和 <strong>传地址调用</strong>，这两个概念就是一个抽象概念，value 和 address 是相对的，对于指针变量来说，传值 也是地址，传地址也是地址，只不过前者是传递指向的地址，后者是传递本身的地址.</p><p>例如 swap 函数，如果参数为 <code>(int a, int b)</code> , 那就是传值调用，因为我们想要交换 <code>a</code> 和 <code>b</code> 的值，如果仅仅传入值，那么调用函数产生的副本，也仅仅是 数值与 <code>a b</code> 相同的两个全新变量而已。我们想要交换两个变量，就必须要传入地址，在地址上直接对值进行操作.</p><p>上例中， <code>p</code> 对应的是 <code>a b</code> 变量，我们只传进想要改变的值，而非传入值所在的地址，所以 <code>q</code> 并没产生变化。这时候我们就需要传入，指针 <code>*q</code> 的地址了，对应的函数参数类型，就变量了指向指针的指针，也就是二级指针.</p><ul><li><p>二级指针操作</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span>p<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"func: &amp;p=0x%x, p=%d\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>p<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"func: &amp;p=0x%x, p=%d\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>p<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>改动的地方很少.</p><p>因为传了指针 <code>q</code> 的地址 (二级指针 <code>**p</code> ) 到函数，所以<strong>二级指针拷贝</strong> (拷贝的是 <code>p</code> , 一级指针中拷贝的是 <code>q</code> , 就是指向的地址),(<mark>拷贝了指针但是指针内容也就是指针所指向的地址是不变的</mark>) 所以它还是指向一级指针 <code>q</code> ( <code>*p = q</code> ). 在这里无论拷贝多少次，它依然指向 <code>q</code> , 那么 <code>*p = &amp;b;</code> 自然的就是 <code>q = &amp;b;</code> 了.</p></li><li><p><strong>PS</strong>:<br>到这里其实我，想说的是其实 一级指针也可以实现二级指针的效果，但是并不推荐，咱们永远不知道这种方法的通用性，<br>我们可以 一级指针的调用的时候传入 <code>q</code> 的地址，然后把赋值语句改为 <code>*p = &amp;b;</code> 也可以得到相应的效果，因为指针都是 8 字节，里面进行了一次 (隐式) 强制类型转换。由于指针指向的类型比较简单，没有导致数据异常，所以 GUN 仅仅是抛出了 warming.</p></li></ul><h3 id="指针与数组"><a class="anchor" href="#指针与数组">#</a> 指针与数组</h3><p><a href="#%E7%9B%AE%E5%BD%95">🔼</a><br>这里 大概会涉及到几个内容:</p><ul><li>指针 与 数组首地址</li><li>指针数组 和 指向数组的指针</li></ul><p>先声明一下:</p><ul><li>指针：是用于存储 地址的变量</li><li>数组：是一串相同类型变量的</li><li>地址：是一种数据，与指针不同的地方在于，没有数据类型 (某种意义上像是指针常量)</li></ul><p>先来说一下第一个：指针 与 数组首地址</p><blockquote><p>在我初学指针的时候一直有一个疑惑就是 <code>int arr[4];</code> 和 <code>int *ptr;</code> 的区别，因为老师经常说，数组的首地址等价于指针，而且 访问数组的时候使用 <code>arr[1]</code> 和 <code>*(arr+1)</code> 的效果是一样的，我一度就把 一级指针 等价为 一维数组.<br>直到有一次，有个小姐姐问我，为什么 <code>sizeof(ptr)</code> 算不出数组大小 而 <code>sizeof(arr)</code> 可以。我当时的回答是，因为 <code>arr</code> 是 一个数组 <code>ptr</code> 是一个指针变量。说完我就察觉到不对了，如果 <code>arr</code> 完全等价于 <code>ptr</code> 那么为什么 <code>sizeof(ptr)</code> 不等于 <code>sizeof(arr)</code> , <code>arr = ptr</code> 会报错。果然啊，教学相长 (<s>有点丢脸，错失良机啊</s>)<br>其实 <mark>数组的首地址、变量的取地址 这些得到的都是指针常量</mark> (上面说过，<a href="#const%E6%8C%87%E9%92%88"> 传送门</a>), 只能充当右值，不能作为左值.<br><code>ptr</code> 仅仅是一个指针变量，用于存储地址的变量。对于二维数组，也是如此， <code>int arr[2][3] = &#123;0&#125;;</code> , <code>arr</code> 整个二维数组的首地址， <code>arr[i]</code> 为 每一行一维数组的首地址.<br><strong>示例</strong>:</p></blockquote><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">int</span> <span class="token operator">*</span>ptr1 <span class="token operator">=</span> arr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">9</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ptr1_val = %d \n"</span><span class="token punctuation">,</span> ptr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>接着咱们 来讨论一下：指针数组和指向数组的指针</p><blockquote><p>这个问题 经常出现在，声明指向二维数组指针上，经常会有 问题是 <code>int *arr[5]</code> 和 <code>int(*arr)[5]</code> 哪个是指向数组的指针之流.<br>在说这个问题之前，先来说明一下两个概念:</p></blockquote><ul><li>行指针：指的是一整行，不指向具体元素<br>声明格式: <code>数据类型 (*指针名)[长度];</code></li><li>列指针：指的是一行中某个具体元素 (一维指针)<br>声明格式: <code>数据类型 *指针名称</code> ；<br><strong>示例</strong></li></ul><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">int</span> <span class="token operator">*</span>ptr1 <span class="token operator">=</span> arr<span class="token punctuation">;</span>        <span class="token comment">// 声明列指针</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token operator">*</span>ptr2<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">;</span>   <span class="token comment">// 声明行指针</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">9</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ptr1_val = %d, ptr2_val = %d\n"</span><span class="token punctuation">,</span> ptr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">*</span>ptr2<span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>PS: 可以将列指针理解为行指针的具体元素，行指针理解为列指针的地址</strong></p><p>言归正传，假设 我们需要声明一个指向 <code>int arr[5][9];</code> 和 一个大小为 4 指向整型指针的数组.</p><p>先来解决第一个:</p><blockquote><p>假设 指针名为 ptr</p><ol><li><code>ptr</code> 先是一个指针，所以第一步是 <code>*ptr</code> ,</li><li><code>*ptr</code> 指向的是数组，由于 <code>[]</code> 运算优先级比 <code>*</code> 高，所以 需要加上 <code>()</code> , 即 <code>(*arr)[9]</code></li><li><code>(*arr)[9]</code> 指向的类型为 <code>int</code> , 得出最终结果 <strong><code>int (*arr)[9] = &amp;arr;</code></strong></li></ol></blockquote><p>然后是指针数组</p><blockquote><p>设 ptrs 为数组名:</p><ol><li><code>ptrs</code> 先是一个数组，得到 <code>ptrs[4]</code></li><li><code>ptrs[4]</code> 的成员是指针，得到 <code>*ptrs[4]</code></li><li><code>*ptrs[4]</code> 成员指向的数据类型为 <code>int</code> , 得到 <code>int ptrs[4];</code></li></ol></blockquote><p><strong>小结：指向数组的指针格式一般以 <code>(*指针名)</code> 打头，而指针数组一般以 <code>*数组名</code> 打头</strong></p><p>正如上面所说，一般情况下指向数组的指针格式以 <code>(*指针名)</code> 打头，咱们这行只要是一般，就必然有例外.<br>由于 <strong>数组是在一块连续的内存上定义的</strong> 所以 只要找到 第一个元素所在的地址，即数组起始地址，就等级于找到整个数组.<br>所以就有了 <code>p = &amp;arr[0]</code> 、 <code>p = &amp;arr[0][0]</code> 、 <code>*p = &amp;arr[0][0][0];</code> 的奇观.<br>这也就是上面所说的 列指针。突然就感觉 上面的行指针不香了 (滑稽)</p><p><strong>示例</strong>:</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">int</span> <span class="token operator">*</span>ptr1 <span class="token operator">=</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token operator">*</span>ptr2<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">9</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ptr1_val = %d, ptr2_val = %d\n"</span><span class="token punctuation">,</span> ptr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">*</span>ptr2<span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"======================================================\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ptr1_val = %d, ptr2_val = %d\n"</span><span class="token punctuation">,</span> ptr1<span class="token punctuation">[</span>i <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> j<span class="token punctuation">]</span><span class="token punctuation">,</span> ptr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>&lt;h4 id=&quot;h4&quot;&gt; 话外：为什么不能用二级指针直接指向二维数组 &lt;/h4&gt;</p><p><a href="#%E7%9B%AE%E5%BD%95">🔼</a></p><p>举个例子:</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span>pptr <span class="token operator">=</span> arr<span class="token punctuation">;</span> <span class="token comment">// 编译出错，不能用二级指针直接指向二维数组</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token operator">*</span>ptrRow<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span> <span class="token comment">// 对，ptrRow 是指向一维数组的指针，可以指向二维数组</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">int</span> <span class="token operator">*</span>ptrCol <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 可以，ptrCol 也是一维指针，可以指向二维数组</span></pre></td></tr></table></figure><p>理论上一维数组对应一维指针，例如 <code>int arr[3]; int *ptr = arr</code> ;<br>那么二维数组应该也对应于二级指针才对啊.<br>对于这个问题，咱们先来看一下二级指针的定义:<br><strong>二级指针指向一级指针，一级指针是取一次地址，二级指针是取两次地址</strong>.<br>就此可以推及到 更高的维度: <strong>n 级指针是指向 n-1 级指针的指针，n 级指针是取 n 次地址</strong></p><p>现在我们来分析一下<br><code>int **pptr = arr;</code> 为什么会出错<br>首先 <code>**pptr = arr</code> 是等价于 <code>**pptr = &amp;arr[0][0];</code><br>那么 <code>*ptr</code> 得到的结果为 <code>1</code> , 如果 再对其进行 <code>*</code> 操作，就会访问到 内存地址 1 上的值，显然这是不允许的<br><strong>PS:</strong> 二级指针是指向一级指针的，那么二级指针 <code>pptr</code> 每次移动的大小就是 <code>sizeof(int *)</code> 也就是 8 个字节，所以 <code>pptr+1</code> 不是像二维数组 <code>arr+1</code> 那样移动到下一行首地址，而是移动 8 个字节.</p><p><code>int **pp=a;</code> 不行。那 <code>int **pp=&amp;a;</code> 呢？<br>很遗憾也不行，原因也是数据类型不一致，导致地址偏移非法.</p><p><strong>凡事总有那么个例外:</strong><br>例如:</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"hello"</span><span class="token punctuation">,</span><span class="token string">"world"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>strptrs <span class="token operator">=</span> str<span class="token punctuation">;</span></pre></td></tr></table></figure><p>本质原因是因为这是一个指针数组，而非 真正的二维数组，每一行的首地址 本身即为指针，符合了两次取地址的要求。而且指针偏移量也为 8 字节， <code>strptrs++</code> 偏移正常，所以 <code>strptrs</code> 才能指向 <code>str</code></p><p>其实这个问题的核心在于 <strong>数据类型的不匹配</strong> 导致的地址自加异常.<br><strong>示例</strong></p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span>pptr <span class="token operator">=</span> arr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token string">"world"</span><span class="token punctuation">,</span> <span class="token string">"C pointer"</span><span class="token punctuation">,</span> <span class="token string">"G++"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>strptrs <span class="token operator">=</span> str<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c\n"</span><span class="token punctuation">,</span> strptrs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token comment">//printf ("% d\n", pptr [0][1]);// 异常，不会打印数据</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>以上都是，个人浅薄的见解，如有不当，欢迎各位大佬们指出</p><div class="tags"><a href="/tags/%E6%8C%87%E9%92%88-C-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag"><i class="ic i-tag"></i> 指针,C,学习笔记</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2021-07-01 18:47:32" itemprop="dateModified" datetime="2021-07-01T18:47:32+08:00">2021-07-01</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="秦殇 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.jpg" alt="秦殇 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>秦殇 <i class="ic i-at"><em>@</em></i>待风而起</li><li class="link"><strong>本文链接：</strong> <a href="https://to-ywz.github.io/2021/03/11/CS/C%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E7%AC%94%E8%AE%B0/C%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E7%AC%94%E8%AE%B0/" title="C语言指针笔记">https://to-ywz.github.io/2021/03/11/CS/C语言指针笔记/C语言指针笔记/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2021/02/24/CS/Algorithm/Leetcode/P20%E6%9C%89%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7/P20%E6%9C%89%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giciub8ja1j20zk0m81ky.jpg" title="P20有效的括号"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> LeetCode</span><h3>P20有效的括号</h3></a></div><div class="item right"><a href="/2021/03/13/CS/Python/Python%E5%9F%BA%E7%A1%80/Python%E5%9F%BA%E7%A1%80/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipew8gmvyj20zk0m87wh.jpg" title="Python 基础"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> Python</span><h3>Python 基础</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#c-%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">C 语言指针笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86"><span class="toc-number">1.2.</span> <span class="toc-text">基础部分</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.2.1.</span> <span class="toc-text">指针的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E7%9A%84%E5%A3%B0%E6%98%8E"><span class="toc-number">1.2.2.</span> <span class="toc-text">指针的声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.2.3.</span> <span class="toc-text">指针的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E6%8C%87%E9%92%88"><span class="toc-number">1.2.4.</span> <span class="toc-text">空指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8E%E6%8C%87%E9%92%88"><span class="toc-number">1.2.5.</span> <span class="toc-text">野指针</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E7%BA%A7%E6%8C%87%E9%92%88"><span class="toc-number">1.3.</span> <span class="toc-text">一级指针</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E5%90%91%E5%8F%98%E9%87%8F%E7%9A%84%E6%8C%87%E9%92%88"><span class="toc-number">1.3.1.</span> <span class="toc-text">指向变量的指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#const%E6%8C%87%E9%92%88"><span class="toc-number">1.3.2.</span> <span class="toc-text">const 指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E5%90%91%E5%87%BD%E6%95%B0%E7%9A%84%E6%8C%87%E9%92%88"><span class="toc-number">1.3.3.</span> <span class="toc-text">指向函数的指针</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E6%8C%87%E9%92%88"><span class="toc-number">1.4.</span> <span class="toc-text">二级指针</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E5%90%91%E6%8C%87%E9%92%88%E7%9A%84%E6%8C%87%E9%92%88"><span class="toc-number">1.4.1.</span> <span class="toc-text">指向指针的指针</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E4%B8%8E%E6%95%B0%E7%BB%84"><span class="toc-number">1.4.2.</span> <span class="toc-text">指针与数组</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/2021/03/11/CS/C%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E7%AC%94%E8%AE%B0/C%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E7%AC%94%E8%AE%B0/" rel="bookmark" title="C语言指针笔记">C语言指针笔记</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="秦殇" data-src="/images/avatar.png"><p class="name" itemprop="name">秦殇</p><div class="description" itemprop="description">如风一般悠长</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">12</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">6</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">5</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RvLXl3eg==" title="https:&#x2F;&#x2F;github.com&#x2F;to-ywz"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS8wbHJmOGY5R2hOT2dQakk=" title="https:&#x2F;&#x2F;twitter.com&#x2F;0lrf8f9GhNOgPjI"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9xaW4tc2hhbmctOTctNA==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;qin-shang-97-4"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTM5ODIwNTQyMTQ=" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;3982054214"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20vNTM0OTY3NDU5MQ==" title="https:&#x2F;&#x2F;weibo.com&#x2F;5349674591"><i class="ic i-weibo"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS9ibGFja3NoZWVwLjIwOGg=" title="https:&#x2F;&#x2F;about.me&#x2F;blacksheep.208h"><i class="ic i-address-card"></i></span> <span class="exturl item email" data-url="bWFpbHRvOmJsYWNrc2hlZXAuMjA4aEBnbWFpbC5jb20=" title="mailto:blacksheep.208h@gmail.com"><i class="ic i-envelope"></i></span> <span class="exturl item facebook" data-url="aHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL2xvdmVoeGxseHk=" title="https:&#x2F;&#x2F;www.facebook.com&#x2F;lovehxllxy"><i class="ic i-facebook"></i></span> <span class="exturl item stackoverflow" data-url="aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9ibGFja3NoZWVw" title="https:&#x2F;&#x2F;stackoverflow.com&#x2F;blacksheep"><i class="ic i-stack-overflow"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2021/02/24/CS/Algorithm/Leetcode/P20%E6%9C%89%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7/P20%E6%9C%89%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2021/03/13/CS/Python/Python%E5%9F%BA%E7%A1%80/Python%E5%9F%BA%E7%A1%80/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/blog/" title="分类于 blog">blog</a></div><span><a href="/2021/07/01/blog/to-Build-shoka/to-Build-shoka/" title="搭建 shoka 主题出现的问题">搭建 shoka 主题出现的问题</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Algorithm/" title="分类于 Algorithm">Algorithm</a> <i class="ic i-angle-right"></i> <a href="/categories/Algorithm/leetcode/" title="分类于 LeetCode">LeetCode</a></div><span><a href="/2021/02/24/CS/Algorithm/Leetcode/P7%E6%95%B4%E6%95%B0%E5%8F%8D%E8%BD%AC/P7%E6%95%B4%E6%95%B0%E5%8F%8D%E8%BD%AC/" title="P7整数反转">P7整数反转</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Algorithm/" title="分类于 Algorithm">Algorithm</a> <i class="ic i-angle-right"></i> <a href="/categories/Algorithm/leetcode/" title="分类于 LeetCode">LeetCode</a></div><span><a href="/2021/02/24/CS/Algorithm/Leetcode/P20%E6%9C%89%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7/P20%E6%9C%89%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7/" title="P20有效的括号">P20有效的括号</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Algorithm/" title="分类于 Algorithm">Algorithm</a> <i class="ic i-angle-right"></i> <a href="/categories/Algorithm/leetcode/" title="分类于 LeetCode">LeetCode</a></div><span><a href="/2021/02/24/CS/Algorithm/Leetcode/P14%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%89%8D%E7%BC%80/P14%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%89%8D%E7%BC%80/" title="P14最长公共前缀">P14最长公共前缀</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Algorithm/" title="分类于 Algorithm">Algorithm</a> <i class="ic i-angle-right"></i> <a href="/categories/Algorithm/leetcode/" title="分类于 LeetCode">LeetCode</a></div><span><a href="/2021/02/24/CS/Algorithm/Leetcode/P9%E5%9B%9E%E6%96%87%E6%95%B0/P9%E5%9B%9E%E6%96%87%E6%95%B0/" title="P9回文数">P9回文数</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Algorithm/" title="分类于 Algorithm">Algorithm</a> <i class="ic i-angle-right"></i> <a href="/categories/Algorithm/leetcode/" title="分类于 LeetCode">LeetCode</a></div><span><a href="/2021/02/24/CS/Algorithm/Leetcode/P13%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97%E8%BD%AC%E6%95%B4%E6%95%B0/P13%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97%E8%BD%AC%E6%95%B4%E6%95%B0/" title="P13罗马数字转整数">P13罗马数字转整数</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/python/" title="分类于 Python">Python</a></div><span><a href="/2021/03/13/CS/Python/Python%E5%9F%BA%E7%A1%80/Python%E5%9F%BA%E7%A1%80/" title="Python 基础">Python 基础</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CS%E4%B9%A6%E7%B1%8D%E7%AC%94%E8%AE%B0/" title="分类于 CS书籍笔记">CS书籍笔记</a></div><span><a href="/2021/02/23/CS/Book/DeepLeaningOS/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F_3/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F_3/" title="深入理解计算机系统_3">深入理解计算机系统_3</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Algorithm/" title="分类于 Algorithm">Algorithm</a> <i class="ic i-angle-right"></i> <a href="/categories/Algorithm/leetcode/" title="分类于 LeetCode">LeetCode</a></div><span><a href="/2021/02/23/CS/Algorithm/Leetcode/P1%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/P1%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/" title="P1两数之和">P1两数之和</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/python/" title="分类于 Python">Python</a></div><span><a href="/2021/03/21/CS/Python/Python%E6%8F%90%E5%8D%87/Python%E6%8F%90%E5%8D%872/" title="Python提升2">Python提升2</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="ic i-BlackSheep"></i> </span><span class="author" itemprop="copyrightHolder">秦殇 @ Black Sheep</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2021/03/11/CS/C语言指针笔记/C语言指针笔记/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:{placeholder:"1. 提问前请先仔细阅读本文档⚡\n2. 页面显示问题💥，请提供控制台截图📸或者您的测试网址\n3. 其他任何报错💣，请提供详细描述和截图📸，祝食用愉快(๑•̀ㅂ•́)و✧"},fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>